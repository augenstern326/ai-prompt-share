{"version":3,"file":"js/462.e122fd2d.js","mappings":"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","sources":["webpack://frontend/./src/views/Login.vue","webpack://frontend/./src/views/Login.vue?240b"],"sourcesContent":["<template>\n  <div class=\"login-page\">\n    <div class=\"container\">\n      <div class=\"login-card\">\n        <div class=\"login-header\">\n          <h2>{{ isLogin ? '登录' : '注册' }}</h2>\n          <p>{{ isLogin ? '欢迎回来，请登录您的账号' : '创建一个新账号，开始分享AI提示词' }}</p>\n        </div>\n        \n        <a-form\n          :model=\"formData\"\n          :rules=\"rules\"\n          @finish=\"handleSubmit\"\n          layout=\"vertical\"\n        >\n          <a-form-item label=\"用户名\" name=\"username\">\n            <a-input v-model:value=\"formData.username\" placeholder=\"请输入用户名\" />\n          </a-form-item>\n          \n          <a-form-item v-if=\"!isLogin\" label=\"邮箱\" name=\"email\">\n            <a-input v-model:value=\"formData.email\" placeholder=\"请输入邮箱\" />\n          </a-form-item>\n          \n          <a-form-item label=\"密码\" name=\"password\">\n            <a-input-password v-model:value=\"formData.password\" placeholder=\"请输入密码\" />\n          </a-form-item>\n          \n          <a-form-item v-if=\"!isLogin\" label=\"确认密码\" name=\"confirmPassword\">\n            <a-input-password v-model:value=\"formData.confirmPassword\" placeholder=\"请再次输入密码\" />\n          </a-form-item>\n          \n          <a-form-item>\n            <a-button type=\"primary\" html-type=\"submit\" :loading=\"loading\" block>\n              {{ isLogin ? '登录' : '注册' }}\n            </a-button>\n          </a-form-item>\n        </a-form>\n        \n        <div class=\"login-footer\">\n          <p v-if=\"isLogin\">\n            还没有账号？\n            <router-link to=\"/register\">立即注册</router-link>\n          </p>\n          <p v-else>\n            已有账号？\n            <router-link to=\"/login\">立即登录</router-link>\n          </p>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, computed, reactive } from 'vue'\nimport { useRoute, useRouter } from 'vue-router'\nimport { useUserStore } from '../stores/user'\nimport { message } from 'ant-design-vue'\n\nexport default {\n  name: 'LoginPage',\n  setup() {\n    const route = useRoute()\n    const router = useRouter()\n    const userStore = useUserStore()\n    const loading = ref(false)\n\n    // 判断是登录还是注册\n    const isLogin = computed(() => route.path === '/login')\n\n    // 表单数据\n    const formData = reactive({\n      username: '',\n      email: '',\n      password: '',\n      confirmPassword: ''\n    })\n\n    // 表单验证规则\n    const rules = computed(() => {\n      const baseRules = {\n        username: [\n          { required: true, message: '请输入用户名', trigger: 'blur' },\n          { min: 3, max: 20, message: '用户名长度必须在3-20个字符之间', trigger: 'blur' }\n        ],\n        password: [\n          { required: true, message: '请输入密码', trigger: 'blur' },\n          { min: 6, max: 20, message: '密码长度必须在6-20个字符之间', trigger: 'blur' }\n        ]\n      }\n      \n      // 注册时需要额外的验证规则\n      if (!isLogin.value) {\n        return {\n          ...baseRules,\n          email: [\n            { required: true, message: '请输入邮箱', trigger: 'blur' },\n            { type: 'email', message: '请输入有效的邮箱地址', trigger: 'blur' }\n          ],\n          confirmPassword: [\n            { required: true, message: '请确认密码', trigger: 'blur' },\n            {\n              validator: (_, value) => {\n                if (value === formData.password) {\n                  return Promise.resolve()\n                }\n                return Promise.reject(new Error('两次输入的密码不一致'))\n              },\n              trigger: 'blur'\n            }\n          ]\n        }\n      }\n      \n      return baseRules\n    })\n\n    // 提交表单\n    const handleSubmit = async () => {\n      loading.value = true\n      try {\n        let success\n        \n        if (isLogin.value) {\n          // 登录\n          success = await userStore.login({\n            username: formData.username,\n            password: formData.password\n          })\n        } else {\n          // 注册\n          success = await userStore.register({\n            username: formData.username,\n            email: formData.email,\n            password: formData.password\n          })\n        }\n        \n        if (success) {\n          // 获取重定向地址\n          const redirect = route.query.redirect || '/'\n          router.push(redirect)\n        }\n      } catch (error) {\n        message.error('操作失败，请稍后重试')\n      } finally {\n        loading.value = false\n      }\n    }\n\n    return {\n      isLogin,\n      formData,\n      rules,\n      loading,\n      handleSubmit\n    }\n  }\n}\n</script>\n\n<style scoped>\n.login-page {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  min-height: calc(100vh - var(--header-height) - var(--footer-height));\n  padding: 40px 0;\n}\n\n.login-card {\n  background: white;\n  border-radius: var(--border-radius-large);\n  box-shadow: var(--box-shadow);\n  padding: 32px;\n  width: 100%;\n  max-width: 400px;\n  margin: 0 auto;\n}\n\n.login-header {\n  text-align: center;\n  margin-bottom: 24px;\n}\n\n.login-header h2 {\n  font-size: 24px;\n  margin-bottom: 8px;\n  background: var(--primary-gradient);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n}\n\n.login-header p {\n  color: var(--text-color-light);\n}\n\n.login-footer {\n  text-align: center;\n  margin-top: 16px;\n}\n\n.login-footer a {\n  color: var(--primary-color);\n  font-weight: bold;\n}\n</style>\n","import { render } from \"./Login.vue?vue&type=template&id=7728eca2&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=7728eca2&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7728eca2\"]])\n\nexport default __exports__"],"names":["class","key","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_toDisplayString","$setup","isLogin","_createVNode","_component_a_form","model","formData","rules","onFinish","handleSubmit","layout","default","_withCtx","_component_a_form_item","label","name","_component_a_input","value","username","_cache","$event","placeholder","_","_createCommentVNode","_createBlock","email","_component_a_input_password","password","confirmPassword","_component_a_button","type","loading","block","_createTextVNode","_hoisted_5","_hoisted_6","_component_router_link","to","_hoisted_7","setup","route","useRoute","router","useRouter","userStore","useUserStore","ref","computed","path","reactive","baseRules","required","message","trigger","min","max","validator","Promise","resolve","reject","Error","async","success","login","register","redirect","query","push","error","__exports__","render"],"sourceRoot":""}