{"version":3,"file":"js/124.3f30c7eb.js","mappings":"2pBAqEA,MAAMA,GAAUC,EAAAA,EAAAA,KAAI,GACdC,GAAUD,EAAAA,EAAAA,IAAI,IACdE,GAAQF,EAAAA,EAAAA,IAAI,GACZG,GAAUH,EAAAA,EAAAA,IAAI,GACdI,GAAOJ,EAAAA,EAAAA,IAAI,IAGXK,EAAiBC,UACrBP,EAAQQ,OAAQ,EAChB,IACE,MAAMC,QAAYC,EAAAA,WAAIC,OAAOC,gBAAgB,CAC3CR,QAASA,EAAQI,MACjBH,KAAMA,EAAKG,QAEI,MAAbC,EAAII,OACNX,EAAQM,MAAQC,EAAIK,KAAKC,QACzBZ,EAAMK,MAAQC,EAAIK,KAAKX,MAE3B,CAAE,MAAOa,GACPC,QAAQD,MAAM,WAAYA,GAC1BE,EAAAA,GAAQF,MAAM,WAChB,CAAE,QACAhB,EAAQQ,OAAQ,CAClB,GAIIW,EAAiBZ,UACrB,IACE,MAAME,QAAYC,EAAAA,WAAIC,OAAOQ,eAAeC,GAC3B,MAAbX,EAAII,MACNK,EAAAA,GAAQG,QAAQ,SAEhBnB,EAAQM,MAAQN,EAAQM,MAAMc,QAAOC,GAAQA,EAAKC,KAAOJ,IACzDjB,EAAMK,SAENU,EAAAA,GAAQF,MAAM,OAElB,CAAE,MAAOA,GACPE,EAAAA,GAAQF,MAAM,aAChB,GAIIS,EAAoBC,IACxBtB,EAAQI,MAAQkB,EAChBpB,GAAgB,E,OAGlBqB,EAAAA,EAAAA,KAAU,KACRrB,GAAgB,I,86DCjHlB,MAAMsB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://frontend/./src/views/user/UserFavorite.vue","webpack://frontend/./src/views/user/UserFavorite.vue?4656"],"sourcesContent":["<template>\n  <div class=\"user-favorite\">\n    <div class=\"container\">\n      <div class=\"user-favorite-header\">\n        <h1>我的收藏</h1>\n        <p>您收藏的所有提示词</p>\n      </div>\n      \n      <!-- 提示词列表 -->\n      <div class=\"favorite-list\">\n        <a-spin :spinning=\"loading\">\n          <template v-if=\"prompts.length > 0\">\n            <div class=\"prompt-cards\">\n              <div v-for=\"prompt in prompts\" :key=\"prompt.id\" class=\"prompt-card-wrapper\">\n                <router-link :to=\"`/prompt/detail/${prompt.id}`\">\n                  <div class=\"prompt-card\">\n                    <div class=\"prompt-card-image\">\n                      <img :src=\"prompt.imageUrl || '/default-prompt.jpg'\" :alt=\"prompt.title\" />\n                    </div>\n                    <div class=\"prompt-card-content\">\n                      <h3 class=\"prompt-card-title\">{{ prompt.title }}</h3>\n                      <div class=\"prompt-card-tags\">\n                        <span v-for=\"tag in prompt.tags.slice(0, 3)\" :key=\"tag.id\" class=\"tag\">{{ tag.name }}</span>\n                      </div>\n                      <div class=\"prompt-card-footer\">\n                        <div class=\"prompt-card-stats\">\n                          <span><a-icon type=\"like\" /> {{ prompt.likeCount }}</span>\n                          <span><a-icon type=\"dislike\" /> {{ prompt.dislikeCount }}</span>\n                          <span><a-icon type=\"star\" /> {{ prompt.favoriteCount }}</span>\n                        </div>\n                        <div class=\"prompt-card-user\">\n                          <a-avatar :src=\"prompt.userAvatar || '/avatar-default.png'\" size=\"small\" />\n                          <span>{{ prompt.username }}</span>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n                </router-link>\n                <div class=\"card-actions\">\n                  <a-button type=\"primary\" @click=\"cancelFavorite(prompt.id)\">\n                    取消收藏\n                  </a-button>\n                </div>\n              </div>\n            </div>\n            \n            <!-- 分页 -->\n            <div class=\"pagination\">\n              <a-pagination\n                v-model:current=\"current\"\n                :total=\"total\"\n                :pageSize=\"size\"\n                show-quick-jumper\n                @change=\"handlePageChange\"\n              />\n            </div>\n          </template>\n          <a-empty v-else description=\"暂无收藏的提示词\" />\n        </a-spin>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted } from 'vue'\nimport { message } from 'ant-design-vue'\nimport api from '../../api'\n\nconst loading = ref(false)\nconst prompts = ref([])\nconst total = ref(0)\nconst current = ref(1)\nconst size = ref(12)\n\n// 获取收藏列表\nconst fetchFavorites = async () => {\n  loading.value = true\n  try {\n    const res = await api.prompt.getFavoriteList({\n      current: current.value,\n      size: size.value\n    })\n    if (res.code === 200) {\n      prompts.value = res.data.records\n      total.value = res.data.total\n    }\n  } catch (error) {\n    console.error('获取收藏列表失败', error)\n    message.error('获取收藏列表失败')\n  } finally {\n    loading.value = false\n  }\n}\n\n// 取消收藏\nconst cancelFavorite = async (promptId) => {\n  try {\n    const res = await api.prompt.cancelFavorite(promptId)\n    if (res.code === 200) {\n      message.success('已取消收藏')\n      // 从列表中移除\n      prompts.value = prompts.value.filter(item => item.id !== promptId)\n      total.value--\n    } else {\n      message.error('操作失败')\n    }\n  } catch (error) {\n    message.error('操作失败，请稍后重试')\n  }\n}\n\n// 分页\nconst handlePageChange = (page) => {\n  current.value = page\n  fetchFavorites()\n}\n\nonMounted(() => {\n  fetchFavorites()\n})\n</script>\n\n<style scoped>\n.user-favorite {\n  padding-bottom: 40px;\n}\n\n.user-favorite-header {\n  text-align: center;\n  margin-bottom: 32px;\n}\n\n.user-favorite-header h1 {\n  font-size: 32px;\n  margin-bottom: 8px;\n  background: var(--primary-gradient);\n  -webkit-background-clip: text;\n  -webkit-text-fill-color: transparent;\n  display: inline-block;\n}\n\n.user-favorite-header p {\n  color: var(--text-color-light);\n  font-size: 16px;\n}\n\n.favorite-list {\n  margin-top: 24px;\n}\n\n.prompt-cards {\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  gap: 24px;\n  margin-bottom: 32px;\n}\n\n.prompt-card-wrapper {\n  width: 100%;\n  position: relative;\n}\n\n.prompt-card {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n\n.prompt-card-image {\n  height: 180px;\n  overflow: hidden;\n}\n\n.prompt-card-image img {\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  transition: transform 0.3s;\n}\n\n.prompt-card:hover .prompt-card-image img {\n  transform: scale(1.05);\n}\n\n.prompt-card-content {\n  padding: 16px;\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n}\n\n.prompt-card-title {\n  font-size: 16px;\n  margin: 0 0 12px 0;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n}\n\n.prompt-card-tags {\n  margin-bottom: 12px;\n}\n\n.prompt-card-footer {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-top: auto;\n}\n\n.prompt-card-stats {\n  display: flex;\n  gap: 12px;\n  color: var(--text-color-light);\n}\n\n.prompt-card-user {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  color: var(--text-color-light);\n  font-size: 12px;\n}\n\n.card-actions {\n  position: absolute;\n  bottom: 16px;\n  right: 16px;\n  opacity: 0;\n  transition: opacity 0.3s;\n}\n\n.prompt-card-wrapper:hover .card-actions {\n  opacity: 1;\n}\n\n.pagination {\n  text-align: center;\n  margin-top: 32px;\n}\n\n@media (max-width: 1200px) {\n  .prompt-cards {\n    grid-template-columns: repeat(2, 1fr);\n  }\n}\n\n@media (max-width: 768px) {\n  .prompt-cards {\n    grid-template-columns: 1fr;\n  }\n  \n  .card-actions {\n    opacity: 1;\n  }\n}\n</style>\n","import script from \"./UserFavorite.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./UserFavorite.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./UserFavorite.vue?vue&type=style&index=0&id=45d660be&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-45d660be\"]])\n\nexport default __exports__"],"names":["loading","ref","prompts","total","current","size","fetchFavorites","async","value","res","api","prompt","getFavoriteList","code","data","records","error","console","message","cancelFavorite","promptId","success","filter","item","id","handlePageChange","page","onMounted","__exports__"],"sourceRoot":""}